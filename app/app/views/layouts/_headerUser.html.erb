<html lang="en">
<head>
  <meta name="robots" content="noindex">
  <meta charset="UTF-8">
  <title>Ybco</title>

  <!-- bower:css -->
  <link rel="stylesheet" href="/assets/unsemantic/assets/stylesheets/unsemantic-grid-responsive-no-ie7.css" >
  <link rel="stylesheet" href="/assets/unsemantic/assets/stylesheets/unsemantic-grid-responsive-tablet-no-ie7.css">

  <%= stylesheet_link_tag "component" %>
  <%= stylesheet_link_tag "flickity/flickity.css" %>
  <%= stylesheet_link_tag "style" %>
  <%= javascript_include_tag "application"%>

  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag "responsive.dataTables.min.css" %>
  <%= stylesheet_link_tag "jquery.dataTables.min.css" %>

  <script>
    /* Set the width of the side navigation to 250px and the left margin of the page content to 250px */
    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
      document.getElementById("main").style.marginLeft = "250px";
    }

    /* Set the width of the side navigation to 0 and the left margin of the page content to 0 */
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.getElementById("main").style.marginLeft = "0";
    }


  </script>

  <style>
    /* The side navigation menu */
    .sidenav {
      height: 100%; /* 100% Full-height */
      width: 0; /* 0 width - change this with JavaScript */
      position: fixed; /* Stay in place */
      z-index: 1; /* Stay on top */
      top: 0;
      left: 0;
      background-color: #FFFFFF; /* White*/
      overflow-x: hidden; /* Disable horizontal scroll */
      padding-top: 0px; /* Place content right at the top */
      transition: 0.1s; /* 0.5 second transition effect to slide in the sidenav */
    }

    /* The navigation menu links */
    .sidenav a {
      text-decoration: none;
      padding-left: 32px;
      padding-top: 0.5em;
      padding-bottom: 0.5em;
      font-size: 18px;
      font-weight: 700;
      font-family: "Proxima Nova", sans-serif;
      color: #000000; /*black*/
      display: block;
      transition: 0.1s
    }

    /* When you mouse over the navigation links, change their color */
    .sidenav a:hover, .offcanvas a:focus{
      color: #808080; /*Grey*/
    }

    /* Position and style the close button (top right corner) */
    .sidenav .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 30px;
      margin-left: 50px;
    }

    .nav--open {
      padding-left: 20px;
    }

    .logo-center {
      padding-right: 65px;
      padding-left: 65px;
    }

    .heading--admin--dash {
      font-family: "Alternate Gothic No1 D", serif;
      text-transform: uppercase;
      font-size: 5.25rem;
      letter-spacing: 0.1em;
      line-height: 1;
      margin-bottom: 2rem;
    }

    .dash-heading {
      color: #00beff;
      margin-bottom: 1rem;
      margin: auto;
    }

    .icon--color {
      color: #000000;
    }

    /* Style page content - use this if you want to push the page content to the right when you open the side navigation */
    #main {
      transition: margin-left .1s;
      padding: 40px;
    }

    .progress {
      height: 6px;
      border-radius: 25px;
    }

    .glyphicon-usd {
      font-size: 2.5em;
      color: white;
      display: inline-block;
      float: right;
      text-align: right;
      color: #5c9bd1;
    }
    .glyphicon-blackboard {
      font-size: 2.5em;
      color: white;
      display: inline-block;
      float: right;
      text-align: right;
      color: #5cb85c;
    }
    .glyphicon-education {
      font-size: 2.5em;
      color: white;
      display: inline-block;
      float: right;
      text-align: right;
      color: #f0ad4e;
    }
    .glyphicon-user {
      font-size: 2.5em;
      color: white;
      display: inline-block;
      float: right;
      text-align: right;
      color: #f36a5a;
    }

    .glyphicon-new-window {
      color: #9aa2a5;
      font-size: 0.7em;
      margin-right: 5px;
    }

    .glyphicon-sort {
      font-size: 0.8em;
      opacity: 0.3;
    }


    input[type=search] {
      background-color: white;
      margin-bottom: 0.5em;
      margin-top: 0.5em;
      border-radius: 3px;
      color: #555;
      border: 1px solid #ccc;
      box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
      padding: 5px 10px;
      height: 80%;
    }

    div#example_length {
      margin-top: 5px;
      vertical-align: middle;
    }

    div#example_wrapper label {
      font-size: 1.1em;
    }

    .dropdown-menu>li>a {
      display: block;
      padding: 3px 20px;
      clear: both;
      font-weight: 400;
      line-height: 1.42857143;
      color: #333;
      white-space: nowrap;
      font-size: 1em;
    }

    .dropdown-menu {
      min-width: 100%;
      right: 0;
      left: auto;
    }

    #btn_actions {
      font-size: 1em;
    }

    table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child:before,
    table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child:before {
      top: 1rem;
      left: 0.8rem;
    }

    tr.child .glyphicon-sort {
      display: none;
    }

    div.dataTables_length select {
      padding: 5px 10px;
      width: 75px;
      height: 30px;
      margin-bottom: 0.5em;
      margin-top: 0.5em;
      border-radius: 3px;
      color: #555;
      border: 1px solid #ccc;
      box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
      padding: 5px 10px;
      height: 80%;
    }

    .custom-page-header {
      font-size: 2.8em;
      margin-left: 15px;
      margin-right: 15px;
      margin-bottom: 10px;
      margin-top: 3rem;
      line-height: 0px;
    }

    .container-fluid {
      margin-top: 2%;
    }

    #projp-float-left {
      margin-right: 0;
      float: left;
    }

    #projp-float-right {
      margin-left: 0;
      float: right;
    }

    .admins {
      float: left;
      width: 100%;
    }

    table.dataTable>tbody>tr.child span.dtr-title,
    table.dataTable>tbody>tr.child span.dtr-data  {
      display: table;
    }

    /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }

  </style>
    <!-- endbower -->
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="HandheldFriendly" content="true">
</head>

  <!--div class="banner-notice">
    Don't let your work go to waste. 
    <%= link_to newProposal_path, :style=>"display:inline;padding: 0;" do %>
    <span class="t--strong">Be a part</span> 

    <% end %>of YBCO and create projects you're passionate about.
    <i class="icon icon--cross js-close"></i>
  </div-->

<header class="page-header">
  <span style="font-size:30px;cursor:pointer">
   <button class="site-menu-open js-site-menu-toggle">
    <span class="l--hidden">Open Site Menu</span>
    <i class="icon icon--menu" id="page-button"></i>
    <i class="icon icon--medium-cross l--hidden" id="cross"></i>
   </button>
  </span>

  <h1 class="site-logo logo">
    <%= link_to '', dashboardIndex_path , class: "icon icon--ybco-logomark",  id: "ybcologo" %>
  </h1>

  <!-- Sidebar -->
  <section class="site-menu" id="site-menu">
    <div class="site-user">
      <div class="site-avatar">
        <div class="js-lightbox-open" data-content-container="#fuel-lightbox-content-addprofilepic">
          <% if current_user.profile_pic.present? %> <!-- check if profile pic exists -->
               <%=image_tag(current_user.profile_pic, :class=> "img-circular-avatar")%>
              </div>
          <% else %>
              <%= image_tag("defaultprofile.png", :class=> "img-circular-avatar")%>
              </div>
          <% end %>
          </div>
      <div class="site-avatar-name">
        Hello, <%= current_user.name.capitalize %>!
      </div>
      <div class="site-avatar-logout">
        <%= link_to "LOGOUT", logout_path %>
      </div>
    </div>

    <nav class="site-menu-block-user site-navigation">
      <div class="site-navigation-list__item">
        My Profile
      </div>
      <ul class="site-navigation-list--sub">
        <li class="site-navigation-list--project-details">
         <%= link_to "Edit Profile", editUserProfile_path(:id =>current_user.id)%>
        </li>
        <li class="site-navigation-list--project-details">
          <%= link_to "Change Password", userChangePassword_path(:id=>current_user.id) %>
        </li>
         <li class="site-navigation-list--project-details">
          <%= link_to "Shipping Address", manageShippingAddress_path %>
        </li>
      </ul>


      <div class="site-navigation-list__item">
       <%= link_to "My Projects", manageProjects_path%>
      </div>
      <ul class="site-navigation-list">
        <li class="site-navigation-list__item-project">
          <ul class="site-navigation-list--project">
            <li>
              <% if !projects.nil? %>
                <% projects.each do |p| %><% proposal_img = ProjectProposalImg.where(:project_proposal_id => p.project_proposal_id) %>
                   <%= image_tag(proposal_img.first.img_url, :class => "img-circular-project") if proposal_img.nil? or !proposal_img.empty? %>

                    <li class="site-navigation-list--project__item-title">
                      <%= link_to showProject_path(:id => p.id) do %>
                          <%= p.title.capitalize%>
                      <% end %>
                    </li>

                    <li class="site-navigation-list--project-percentage">
                      0% complete
                    </li>
                    <li class="site-navigation-list--project-details">
                      <%= link_to "Metrics", showRewardsSelected_path(:id=>p.id) %>
                    </li>
                    <li class="site-navigation-list--project-details">
                      <%= link_to "Settings"%>
                    </li>
                    <li class="site-navigation-list--project-details">
                      <%= link_to "Tiles"%>
                    </li>
                    <li class="site-navigation-list--project-details bottom-push">
                      <%= link_to "Help"%>
                    </li>
            <% end %>
                <% end %>
            </li>
          </ul>

        </li>

        <li class="site-navigation-list__item">

          <%= link_to "Explore", viewAllProject_path%>
        </li>

        <li class="site-navigation-list__item">
          <%= link_to "Funded"%>
        </li>
      </ul>

      <ul class="site-navigation-list--small">
        <li class="site-navigation-list__item">
          <a href="#" rel="internal">About Y&B</a>
        </li>
        <li class="site-navigation-list__item">
          <a href="#" rel="internal">Support</a>
        </li>
        <li class="site-navigation-list__item">
          <a href="#" rel="internal">Community Guidelines</a>
        </li>
      </ul>
    </nav>

    <ul class="site-menu-block social-links">
      <li class="social-link"><a href="http://www.facebook.com/ybco.co" target="_blank">
        <span class="l--hidden">Facebook</span>
        <i class="icon icon--facebook-with-circle"></i>
      </a></li>
      <li class="social-link"><a href="http://www.twitter.com/youngboldco" target="_blank">
        <span class="l--hidden">Twitter</span>
        <i class="icon icon--twitter-with-circle"></i>
      </a></li>
    </ul>
  </section>

  <!--section class="site-utilities">
    <ul class="site-utilities-links">
      <li>
        <%= link_to "Logout",  logout_path, :class=>"site-utilities-link"%>
      </li>
    </ul>
  </section-->
</header>

<div class="lightbox js-lightbox">
  <div class="js-lightbox-close lightbox-close icon icon--lightbox-close"></div>
  <div class="js-lightbox-content"></div>
</div>

<div class="lightbox-overlay js-lightbox-overlay js-lightbox-close"></div>

<!--LIGHTBOX -->
<div class="l--hidden" id="fuel-lightbox-content-addprofilepic">
<!-- for the image to come out -->
<script>
var preview = $(".upload-preview2 img");
    $(".profilepic").change(function(event){
       var input = $(event.currentTarget);
       var file = input[0].files[0];
       var reader = new FileReader();
       reader.onload = function(e){
           image_base64 = e.target.result;
           preview.attr("src", image_base64);
       };
       reader.readAsDataURL(file);
    });
</script>
  <div class="fuel-lightbox-container" style="padding: 1% 1rem;">

    <legend class="form-heading heading">Edit Profile</legend>
    <span class="fuel-lightbox__heading">Upload your profile pictures</span>

    <%= form_for :user, url:  updateProfilePic_path(:id => current_user.id) do |f| %>

        <div class="form-field">

          <% if current_user.errors.any? %>
              <div class="panel panel-danger">
                <div class="panel-heading"><h2><strong>Your inputs do not meet the requirements:</strong></h2></div>
                <div class="panel-body alert-design">
                  <ul style="list-style-type:circle">
                    <% current_user.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                    <% end %>
                  </ul>
                </div>
              </div>
          <% end %>
        </div>

        <div class="form-field-getstarted">
          <%= f.file_field :profile_pic, class: "form-input--fileupload profilepic", :required => 'required' %>
          <div class="upload-preview2"><img class="img-circular-avatarpreview" /></div>
        </div>

        <div class="form-actions" style="margin-top:1rem;">
          <%= f.submit "Submit", class: "button--stroke--long" %>
        </div>

    <% end %>
  </div>
</div>
</body>

</html>